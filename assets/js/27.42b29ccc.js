(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{307:function(s,a,t){"use strict";t.r(a);var r=t(14),e=Object(r.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件"}},[s._v("#")]),s._v(" 文件")]),s._v(" "),a("h2",{attrs:{id:"文件属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件属性"}},[s._v("#")]),s._v(" 文件属性")]),s._v(" "),a("p",[s._v("用户分为三种：文件拥有者、群组以及其它人，对不同的用户有不同的文件权限。")]),s._v(" "),a("p",[s._v("使用 "),a("code",[s._v("ls -l")]),s._v("查看一个文件时，会显示一个文件的信息，例如 "),a("code",[s._v("drwxr-xr-x 3 root root 17 May 6 00:14 .config")]),s._v("，对这个信息的解释如下：")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("drwxr-xr-x：第 1 位为"),a("strong",[s._v("文件类型")]),s._v("字段，后 9 位为"),a("strong",[s._v("文件权限")]),s._v("字段\n常见的文件类型及其含义有：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("d")]),s._v("：目录")]),s._v(" "),a("li",[a("code",[s._v("-")]),s._v("：文件")]),s._v(" "),a("li",[a("code",[s._v("l")]),s._v("：链接文件（link）")])]),s._v(" "),a("p",[s._v("文件权限：9 位的文件权限字段中，每 3 个为一组，共 3 组，9 位的文件权限字段中，每 3 个为一组，共 3 组。一组权限有以下选择：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("r")]),s._v("：读")]),s._v(" "),a("li",[a("code",[s._v("w")]),s._v("：写")]),s._v(" "),a("li",[a("code",[s._v("x")]),s._v("：执行")]),s._v(" "),a("li",[a("code",[s._v("-")]),s._v("：没有该种权限")])]),s._v(" "),a("p",[s._v("其中rwx三种权限从左向右排列，如图所示：")]),s._v(" "),a("img",{staticStyle:{zoom:"50%"},attrs:{src:"images/Linux/file-permissions-rwx.jpg",alt:"img"}})]),s._v(" "),a("li",[a("p",[s._v("3：链接数")])]),s._v(" "),a("li",[a("p",[s._v("root：文件拥有者")])]),s._v(" "),a("li",[a("p",[s._v("root：所属群组")])]),s._v(" "),a("li",[a("p",[s._v("17：文件大小")])]),s._v(" "),a("li",[a("p",[s._v("May 6 00:14：文件最后被修改的时间\n文件时间有以下三种：")]),s._v(" "),a("ul",[a("li",[s._v("modification time (mtime)：文件的内容更新就会更新；")]),s._v(" "),a("li",[s._v("status time (ctime)：文件的状态（权限、属性）更新就会更新；")]),s._v(" "),a("li",[s._v("access time (atime)：读取文件时就会更新。")])])]),s._v(" "),a("li",[a("p",[s._v(".config：文件名")])])]),s._v(" "),a("h2",{attrs:{id:"修改权限-chmod"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改权限-chmod"}},[s._v("#")]),s._v(" 修改权限 chmod")]),s._v(" "),a("p",[s._v("可以将一组权限用数字来表示，此时一组权限的 3 个位当做二进制数字的位，从左到右每个位的权值为 4、2、1，即每个权限对应的数字权值为 r : 4、w : 2、x : 1。三者相加7就是改组权限的值。例如将 .bashrc 文件的权限修改为 "),a("code",[s._v("-rwxr-xr--")]),s._v("：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("754")]),s._v(" .bashrc\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"images/Linux/rwx-standard-unix-permission-bits.png",alt:"img"}})]),s._v(" "),a("h2",{attrs:{id:"默认权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#默认权限"}},[s._v("#")]),s._v(" 默认权限")]),s._v(" "),a("ul",[a("li",[s._v("文件默认权限：文件默认没有可执行权限，因此为 666，也就是 -rw-rw-rw- 。")]),s._v(" "),a("li",[s._v("目录默认权限：目录必须要能够进入，也就是必须拥有可执行权限，因此为 777 ，也就是 drwxrwxrwx。")])]),s._v(" "),a("h2",{attrs:{id:"目录的权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目录的权限"}},[s._v("#")]),s._v(" 目录的权限")]),s._v(" "),a("p",[s._v("文件名不是存储在一个文件的内容中，而是存储在一个文件所在的目录中。因此，拥有文件的 w 权限并不能对文件名进行修改。还需要有文件所在"),a("strong",[s._v("目录的w权限")]),s._v("。")]),s._v(" "),a("p",[s._v("目录存储文件列表，一个目录的权限也就是对其文件列表的权限。因此，目录的 r 权限表示可以读取文件列表；w 权限表示可以修改文件列表，也就是添加删除文件，以及修改文件名；")]),s._v(" "),a("blockquote",[a("p",[s._v("x 权限可以让该目录成为工作目录，x 权限是 r 和 w 权限的基础，如果不能使一个目录成为工作目录，也就没办法读取文件列表以及对文件列表进行修改了。")]),s._v(" "),a("p",[s._v("即：对目录而言，没有x权限就没有w和r权限。")])]),s._v(" "),a("h2",{attrs:{id:"设置所有者-chown"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置所有者-chown"}},[s._v("#")]),s._v(" 设置所有者 chown")]),s._v(" "),a("p",[s._v("用于设置文件所有者和文件关联组。需要超级用户 "),a("strong",[s._v("root")]),s._v(" 的权限")]),s._v(" "),a("p",[s._v("Linux/Unix 是多人多工操作系统，所有的文件皆有拥有者。利用 chown 将指定文件的拥有者改为指定的用户或组，用户可以是用户名或者用户 ID，组可以是组名或者组 ID，文件是以空格分开的要改变权限的文件列表，支持通配符。")]),s._v(" "),a("p",[s._v("把 /var/run/httpd.pid 的所有者设置 root：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" root /var/run/httpd.pid\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("将文件 file1.txt 的拥有者设为 runoob，群体的使用者 runoobgroup :")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" runoob:runoobgroup file1.txt\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h1",{attrs:{id:"用户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用户"}},[s._v("#")]),s._v(" 用户")]),s._v(" "),a("h2",{attrs:{id:"创建用户账号-useradd"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建用户账号-useradd"}},[s._v("#")]),s._v(" 创建用户账号 useradd")]),s._v(" "),a("p",[s._v("帐号建好之后，再用 passwd 设定帐号的密码")]),s._v(" "),a("p",[s._v("可用 userdel 删除帐号。")]),s._v(" "),a("p",[s._v("使用 useradd 指令所建立的帐号，实际上是保存在 /etc/passwd 文本文件中。")]),s._v(" "),a("p",[s._v("添加一般用户：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" tt\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("为添加的用户指定相应的用户组：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-g")]),s._v(" root tt\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("创建一个系统用户：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v(" tt\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("为新添加的用户指定home目录：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" /home/myd tt\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"删除用户账号-userdel"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除用户账号-userdel"}},[s._v("#")]),s._v(" 删除用户账号 userdel")]),s._v(" "),a("p",[s._v("userdel可删除用户帐号与相关的文件。若不加参数，则仅删除用户帐号，而不删除相关文件。")]),s._v(" "),a("h1",{attrs:{id:"正则表达式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#正则表达式"}},[s._v("#")]),s._v(" 正则表达式")]),s._v(" "),a("p",[s._v('在文件 file.txt 中查找字符串 "hello"，并打印匹配的行：')]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" hello file.txt\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("常用参数：")]),s._v(" "),a("ul",[a("li",[s._v("-A 10：除了显示查找命中的行，再往后输出10行")]),s._v(" "),a("li",[s._v("-C 10：显示命中行前后的10行")])])])}),[],!1,null,null,null);a.default=e.exports}}]);